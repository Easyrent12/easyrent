<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile Settings | homes@globe</title>
    <style>
      :root {
        --primary-color: #4a6fa5;
        --secondary-color: #6c757d;
        --light-gray: #f8f9fa;
        --border-color: #dee2e6;
        --success-color: #28a745;
        --error-color: #dc3545;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #f5f5f5;
        color: #333;
        line-height: 1.6;
      }

      .container {
        display: flex;
        min-height: 100vh;
      }

      /* Sidebar */
      .sidebar {
        width: 250px;
        background-color: white;
        padding: 20px;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
      }

      .logo {
        font-size: 24px;
        font-weight: bold;
        margin-bottom: 30px;
        color: var(--primary-color);
      }

      .nav-menu {
        list-style: none;
      }

      .nav-item {
        margin-bottom: 15px;
      }

      .nav-item a {
        text-decoration: none;
        color: var(--secondary-color);
        display: block;
        padding: 8px 10px;
        border-radius: 4px;
        transition: all 0.3s ease;
      }

      .nav-item a:hover,
      .nav-item.active a {
        background-color: var(--light-gray);
        color: var(--primary-color);
      }

      /* Main Content */
      .main-content {
        flex: 1;
        padding: 30px;
      }

      .profile-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
      }

      h1 {
        color: var(--primary-color);
        font-size: 28px;
      }

      .profile-card {
        background-color: white;
        border-radius: 8px;
        padding: 30px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        margin-bottom: 30px;
      }

      .section-title {
        font-size: 20px;
        margin-bottom: 20px;
        color: var(--primary-color);
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 10px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-row {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
      }

      .form-col {
        flex: 1;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
      }

      input,
      textarea,
      select {
        width: 100%;
        padding: 10px 15px;
        border: 1px solid var(--border-color);
        border-radius: 4px;
        font-size: 16px;
      }

      textarea {
        min-height: 100px;
        resize: vertical;
      }

      .file-upload {
        border: 2px dashed var(--border-color);
        padding: 30px;
        text-align: center;
        border-radius: 4px;
        cursor: pointer;
        position: relative;
      }

      .file-upload:hover {
        border-color: var(--primary-color);
      }

      .avatar-preview {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 15px;
        display: none;
      }

      .phone-input {
        display: flex;
        align-items: center;
      }

      .phone-prefix {
        padding: 10px;
        background-color: var(--light-gray);
        border: 1px solid var(--border-color);
        border-right: none;
        border-radius: 4px 0 0 4px;
      }

      .phone-number {
        border-radius: 0 4px 4px 0;
      }

      .error-message {
        color: var(--error-color);
        font-size: 14px;
        margin-top: 5px;
        display: none;
      }

      .success-message {
        color: var(--success-color);
        font-size: 14px;
        margin-top: 5px;
        display: none;
      }

      .checkbox-group {
        margin-top: 10px;
      }

      .checkbox-label {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
      }

      .checkbox-label input {
        width: auto;
        margin-right: 10px;
      }

      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .btn-primary {
        background-color: var(--primary-color);
        color: white;
      }

      .btn-primary:hover {
        background-color: #3a5a8f;
      }

      .notification {
        background-color: #e7f5ff;
        padding: 20px;
        border-radius: 4px;
        margin-bottom: 30px;
        border-left: 4px solid var(--primary-color);
      }

      .email-section {
        margin-bottom: 25px;
      }

      .email-display {
        font-size: 18px;
        margin-bottom: 10px;
      }

      .email-display a {
        color: var(--primary-color);
        text-decoration: none;
      }

      .change-email-btn {
        background: none;
        border: none;
        color: var(--primary-color);
        cursor: pointer;
        padding: 0;
        font-size: 14px;
        text-decoration: underline;
      }

      .email-form {
        display: none;
        margin-top: 15px;
      }

      .cookie-notice {
        font-size: 14px;
        color: var(--secondary-color);
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid var(--border-color);
      }

      .cookie-notice a {
        color: var(--primary-color);
        text-decoration: none;
      }

      .language-switcher {
        position: absolute;
        top: 20px;
        right: 20px;
      }

      .language-btn {
        background: none;
        border: 1px solid var(--border-color);
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="language-switcher">
      <button class="language-btn" id="english-btn">English</button>
      <button class="language-btn" id="arabic-btn">العربية</button>
    </div>

    <div class="container">
      <!-- Sidebar Navigation -->
      <div class="sidebar">
        <div class="logo">homes@globe</div>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="#" data-i18n="dashboard">Dashboard</a>
          </li>
          <li class="nav-item">
            <a href="#" data-i18n="add_property">Add Property</a>
          </li>
          <li class="nav-item">
            <a href="#" data-i18n="my_properties">My Properties</a>
          </li>
          <li class="nav-item"><a href="#" data-i18n="inbox">Inbox</a></li>
          <li class="nav-item">
            <a href="#" data-i18n="favorite">Favorite</a>
          </li>
          <li class="nav-item active">
            <a href="#" data-i18n="profile_settings">Profile Settings</a>
          </li>
          <li class="nav-item"><a href="#" data-i18n="logout">Logout</a></li>
        </ul>
      </div>

      <!-- Main Content Area -->
      <div class="main-content">
        <div class="profile-header">
          <h1 data-i18n="profile_settings">Profile Settings</h1>
        </div>

        <!-- Update Notification -->
        <div class="notification">
          <h3 data-i18n="evolution_title">
            Home's Globe: Evolution in Progress!
          </h3>
          <p data-i18n="evolution_text">
            We're building something amazing—exciting improvements are on the
            way!
          </p>
        </div>

        <!-- Profile Information Section -->
        <div class="profile-card">
          <h2 class="section-title" data-i18n="personal_info">
            Personal Information
          </h2>

          <div class="form-row">
            <div class="form-col">
              <div class="form-group">
                <label for="firstName" data-i18n="first_name">First Name</label>
                <input
                  type="text"
                  id="firstName"
                  data-i18n-placeholder="enter_first_name"
                  placeholder="Enter first name"
                />
              </div>
            </div>
            <div class="form-col">
              <div class="form-group">
                <label for="lastName" data-i18n="last_name">Last Name</label>
                <input
                  type="text"
                  id="lastName"
                  data-i18n-placeholder="enter_last_name"
                  placeholder="Enter last name"
                />
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="zipCode" data-i18n="zip_code">Zip/Postal Code</label>
            <input
              type="text"
              id="zipCode"
              data-i18n-placeholder="enter_zip_code"
              placeholder="Enter Zip/Postal Code"
            />
          </div>

          <div class="form-group">
            <label data-i18n="profile_picture">Profile Picture</label>
            <img
              id="avatar-preview"
              class="avatar-preview"
              alt="Profile Preview"
            />
            <div class="file-upload" id="file-upload">
              <p data-i18n="drop_file">
                Drop your file here or
                <span
                  style="color: var(--primary-color)"
                  data-i18n="choose_file"
                  >Choose file</span
                >
              </p>
              <input
                type="file"
                id="profile-picture"
                style="display: none"
                accept="image/*"
              />
            </div>
          </div>

          <div class="form-group">
            <label for="about" data-i18n="about">About</label>
            <textarea
              id="about"
              data-i18n-placeholder="tell_about_yourself"
              placeholder="Tell us about yourself"
            ></textarea>
          </div>
        </div>

        <!-- Contact Information Section -->
        <div class="profile-card">
          <h2 class="section-title" data-i18n="contact_info">
            Contact Information
          </h2>

          <div class="email-section">
            <div class="email-display">
              <span data-i18n="email">Email</span>:
              <span id="current-email">user@example.com</span>
            </div>
            <button
              class="change-email-btn"
              id="change-email-btn"
              data-i18n="change_email"
            >
              Change email address
            </button>

            <div class="email-form" id="email-form">
              <div class="form-group">
                <label for="new-email" data-i18n="new_email"
                  >New Email Address</label
                >
                <input
                  type="email"
                  id="new-email"
                  data-i18n-placeholder="enter_new_email"
                  placeholder="Enter new email address"
                />
                <div
                  class="error-message"
                  id="email-error"
                  data-i18n="invalid_email"
                >
                  Please enter a valid email address
                </div>
                <div
                  class="success-message"
                  id="email-success"
                  data-i18n="email_updated"
                >
                  Email updated successfully!
                </div>
              </div>
              <div class="form-group">
                <label for="confirm-email" data-i18n="confirm_email"
                  >Confirm Email Address</label
                >
                <input
                  type="email"
                  id="confirm-email"
                  data-i18n-placeholder="confirm_new_email"
                  placeholder="Confirm new email address"
                />
              </div>
              <div class="form-group">
                <label for="current-password" data-i18n="current_password"
                  >Current Password</label
                >
                <input
                  type="password"
                  id="current-password"
                  data-i18n-placeholder="enter_current_password"
                  placeholder="Enter your current password"
                />
                <div
                  class="error-message"
                  id="password-error"
                  data-i18n="incorrect_password"
                >
                  Incorrect password
                </div>
              </div>
              <button
                class="btn btn-primary"
                id="save-email-btn"
                data-i18n="update_email"
              >
                Update Email
              </button>
              <button
                class="btn"
                id="cancel-email-btn"
                style="margin-left: 10px; background: var(--light-gray)"
                data-i18n="cancel"
              >
                Cancel
              </button>
            </div>
          </div>

          <div class="form-group">
            <label data-i18n="mobile">Mobile</label>
            <div class="phone-input">
              <span class="phone-prefix" id="mobile-prefix">+1</span>
              <input
                type="tel"
                class="phone-number"
                id="mobile-number"
                data-i18n-placeholder="enter_phone_number"
                placeholder="Phone number"
              />
            </div>
            <p class="error-message" data-i18n="phone_too_short">
              Phone number is too short
            </p>
          </div>

          <div class="form-group">
            <label for="landline" data-i18n="landline">Landline</label>
            <input
              type="tel"
              id="landline"
              data-i18n-placeholder="enter_landline"
              placeholder="Enter landline number"
            />
          </div>

          <div class="form-group">
            <label data-i18n="whatsapp">WhatsApp</label>
            <div class="phone-input">
              <span class="phone-prefix" id="whatsapp-prefix">+1</span>
              <input
                type="tel"
                class="phone-number"
                id="whatsapp-number"
                data-i18n-placeholder="enter_whatsapp_number"
                placeholder="Phone number"
              />
            </div>
            <p class="error-message" data-i18n="phone_too_short">
              Phone number is too short
            </p>

            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" id="same-as-contact" />
                <span data-i18n="same_as_contact">Same as contact number</span>
              </label>
            </div>
          </div>
        </div>

        <!-- Save Button -->
        <button
          class="btn btn-primary"
          id="save-changes"
          data-i18n="save_changes"
        >
          Save Changes
        </button>

        <!-- Cookie Notice -->
        <div class="cookie-notice">
          <p data-i18n="cookie_notice">
            By clicking "Accept all cookies", you agree to our cookie policy.
            You can also customize your settings.
            <a href="#" data-i18n="cookie_policy">Cookie Policy</a>
          </p>
        </div>
      </div>
    </div>

    <script>
      // Sample user data that would come from your backend after signup
      const userData = {
        firstName: "John",
        lastName: "Doe",
        email: "john.doe@example.com",
        phone: {
          mobile: "5551234567",
          landline: "",
          whatsapp: "5551234567",
          countryCode: "1",
        },
        zipCode: "10001",
        about: "Real estate enthusiast looking for my dream home",
        profilePicture: "https://randomuser.me/api/portraits/men/1.jpg",
        language: "en",
      };

      document.addEventListener("DOMContentLoaded", function () {
        // Populate form with user data
        document.getElementById("firstName").value = userData.firstName;
        document.getElementById("lastName").value = userData.lastName;
        document.getElementById("current-email").textContent = userData.email;
        document.getElementById("zipCode").value = userData.zipCode;
        document.getElementById("about").value = userData.about;
        document.getElementById("mobile-number").value = userData.phone.mobile;
        document.getElementById("landline").value = userData.phone.landline;
        document.getElementById("whatsapp-number").value =
          userData.phone.whatsapp;
        document.getElementById(
          "mobile-prefix"
        ).textContent = `+${userData.phone.countryCode}`;
        document.getElementById(
          "whatsapp-prefix"
        ).textContent = `+${userData.phone.countryCode}`;

        // Set profile picture if available
        if (userData.profilePicture) {
          const avatarPreview = document.getElementById("avatar-preview");
          avatarPreview.src = userData.profilePicture;
          avatarPreview.style.display = "block";
          document.querySelector(".file-upload p").style.display = "none";
        }

        // File upload handling
        document
          .getElementById("profile-picture")
          .addEventListener("change", function (e) {
            const file = e.target.files[0];
            if (file) {
              const reader = new FileReader();
              reader.onload = function (event) {
                const avatarPreview = document.getElementById("avatar-preview");
                avatarPreview.src = event.target.result;
                avatarPreview.style.display = "block";
                document.querySelector(".file-upload p").style.display = "none";
              };
              reader.readAsDataURL(file);
            }
          });

        // Same as contact checkbox
        document
          .getElementById("same-as-contact")
          .addEventListener("change", function () {
            if (this.checked) {
              document.getElementById("whatsapp-number").value =
                document.getElementById("mobile-number").value;
            }
          });

        // Email change functionality
        const changeEmailBtn = document.getElementById("change-email-btn");
        const emailForm = document.getElementById("email-form");
        const cancelEmailBtn = document.getElementById("cancel-email-btn");
        const currentEmail = document.getElementById("current-email");
        const newEmailInput = document.getElementById("new-email");
        const confirmEmailInput = document.getElementById("confirm-email");
        const currentPasswordInput =
          document.getElementById("current-password");
        const saveEmailBtn = document.getElementById("save-email-btn");
        const emailError = document.getElementById("email-error");
        const emailSuccess = document.getElementById("email-success");
        const passwordError = document.getElementById("password-error");

        // Toggle email form visibility
        changeEmailBtn.addEventListener("click", function () {
          emailForm.style.display = "block";
          changeEmailBtn.style.display = "none";
        });

        // Cancel email change
        cancelEmailBtn.addEventListener("click", function () {
          emailForm.style.display = "none";
          changeEmailBtn.style.display = "inline";
          resetEmailForm();
        });

        // Save new email
        saveEmailBtn.addEventListener("click", function () {
          const newEmail = newEmailInput.value.trim();
          const confirmEmail = confirmEmailInput.value.trim();
          const password = currentPasswordInput.value.trim();

          // Simple validation
          if (!isValidEmail(newEmail)) {
            emailError.style.display = "block";
            emailSuccess.style.display = "none";
            return;
          }

          if (newEmail !== confirmEmail) {
            emailError.textContent =
              document
                .getElementById("email-error")
                .getAttribute("data-i18n") === "invalid_email"
                ? "Please enter a valid email address"
                : "عنوانا البريد الإلكتروني غير متطابقين";
            emailError.style.display = "block";
            emailSuccess.style.display = "none";
            return;
          }

          if (password.length < 6) {
            passwordError.style.display = "block";
            emailError.style.display = "none";
            emailSuccess.style.display = "none";
            return;
          }

          // In a real app, you would send this to the server here

          // Simulate success
          currentEmail.textContent = newEmail;
          emailSuccess.style.display = "block";
          emailError.style.display = "none";
          passwordError.style.display = "none";

          // Hide form after 2 seconds
          setTimeout(function () {
            emailForm.style.display = "none";
            changeEmailBtn.style.display = "inline";
            resetEmailForm();
          }, 2000);
        });

        // Helper function to validate email
        function isValidEmail(email) {
          const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          return re.test(email);
        }

        // Reset email form
        function resetEmailForm() {
          newEmailInput.value = "";
          confirmEmailInput.value = "";
          currentPasswordInput.value = "";
          emailError.style.display = "none";
          emailSuccess.style.display = "none";
          passwordError.style.display = "none";
        }

        // Save all changes
        document
          .getElementById("save-changes")
          .addEventListener("click", function () {
            // In a real app, you would collect all form data and send to server
            const updatedData = {
              firstName: document.getElementById("firstName").value,
              lastName: document.getElementById("lastName").value,
              zipCode: document.getElementById("zipCode").value,
              about: document.getElementById("about").value,
              phone: {
                mobile: document.getElementById("mobile-number").value,
                landline: document.getElementById("landline").value,
                whatsapp: document.getElementById("whatsapp-number").value,
              },
            };

            console.log("Updated user data:", updatedData);
            alert(
              this.getAttribute("data-i18n") === "save_changes"
                ? "Profile updated successfully!"
                : "تم تحديث الملف الشخصي بنجاح!"
            );
          });

        // Language switching functionality
        const translations = {
          en: {
            dashboard: "Dashboard",
            add_property: "Add Property",
            my_properties: "My Properties",
            inbox: "Inbox",
            favorite: "Favorite",
            profile_settings: "Profile Settings",
            logout: "Logout",
            first_name: "First Name",
            last_name: "Last Name",
            zip_code: "Zip/Postal Code",
            profile_picture: "Profile Picture",
            about: "About",
            contact_info: "Contact Information",
            email: "Email",
            change_email: "Change email address",
            new_email: "New Email Address",
            confirm_email: "Confirm Email Address",
            current_password: "Current Password",
            update_email: "Update Email",
            cancel: "Cancel",
            mobile: "Mobile",
            landline: "Landline",
            whatsapp: "WhatsApp",
            same_as_contact: "Same as contact number",
            save_changes: "Save Changes",
            evolution_title: "Home's Globe: Evolution in Progress!",
            evolution_text:
              "We're building something amazing—exciting improvements are on the way!",
            cookie_notice:
              'By clicking "Accept all cookies", you agree to our cookie policy. You can also customize your settings.',
            cookie_policy: "Cookie Policy",
            enter_first_name: "Enter first name",
            enter_last_name: "Enter last name",
            enter_zip_code: "Enter Zip/Postal Code",
            drop_file: "Drop your file here or",
            choose_file: "Choose file",
            tell_about_yourself: "Tell us about yourself",
            enter_new_email: "Enter new email address",
            confirm_new_email: "Confirm new email address",
            enter_current_password: "Enter your current password",
            enter_phone_number: "Phone number",
            enter_landline: "Enter landline number",
            enter_whatsapp_number: "Phone number",
            invalid_email: "Please enter a valid email address",
            email_updated: "Email updated successfully!",
            incorrect_password: "Incorrect password",
            phone_too_short: "Phone number is too short",
          },
          ar: {
            dashboard: "لوحة التحكم",
            add_property: "إضافة عقار",
            my_properties: "عقاراتي",
            inbox: "صندوق الوارد",
            favorite: "المفضلة",
            profile_settings: "إعدادات الملف الشخصي",
            logout: "تسجيل الخروج",
            first_name: "الاسم الأول",
            last_name: "الاسم الأخير",
            zip_code: "الرمز البريدي",
            profile_picture: "صورة الملف الشخصي",
            about: "معلومات عني",
            contact_info: "معلومات الاتصال",
            email: "البريد الإلكتروني",
            change_email: "تغيير البريد الإلكتروني",
            new_email: "البريد الإلكتروني الجديد",
            confirm_email: "تأكيد البريد الإلكتروني",
            current_password: "كلمة المرور الحالية",
            update_email: "تحديث البريد الإلكتروني",
            cancel: "إلغاء",
            mobile: "الجوال",
            landline: "الهاتف الأرضي",
            whatsapp: "واتساب",
            same_as_contact: "نفس رقم الاتصال",
            save_changes: "حفظ التغييرات",
            evolution_title: "تطوير Homes Globe قيد التقدم!",
            evolution_text: "نحن نبني شيئًا رائعًا - تحسينات مثيرة قريبًا!",
            cookie_notice:
              'بالنقر على "قبول جميع الكوكيز"، فإنك توافق على سياسة الكوكيز الخاصة بنا. يمكنك أيضًا تخصيص إعداداتك.',
            cookie_policy: "سياسة الكوكيز",
            enter_first_name: "أدخل الاسم الأول",
            enter_last_name: "أدخل الاسم الأخير",
            enter_zip_code: "أدخل الرمز البريدي",
            drop_file: "أسقط ملفك هنا أو",
            choose_file: "اختر ملف",
            tell_about_yourself: "أخبرنا عن نفسك",
            enter_new_email: "أدخل البريد الإلكتروني الجديد",
            confirm_new_email: "أكد البريد الإلكتروني الجديد",
            enter_current_password: "أدخل كلمة المرور الحالية",
            enter_phone_number: "أدخل رقم الجوال",
            enter_landline: "أدخل رقم الهاتف الأرضي",
            enter_whatsapp_number: "أدخل رقم واتساب",
            invalid_email: "الرجاء إدخال بريد إلكتروني صحيح",
            email_updated: "تم تحديث البريد الإلكتروني بنجاح!",
            incorrect_password: "كلمة المرور غير صحيحة",
            phone_too_short: "رقم الهاتف قصير جدًا",
          },
        };

        function switchLanguage(lang) {
          document.documentElement.lang = lang;
          document.documentElement.dir = lang === "ar" ? "rtl" : "ltr";

          // Update all elements with data-i18n attribute
          document.querySelectorAll("[data-i18n]").forEach((element) => {
            const key = element.getAttribute("data-i18n");
            if (translations[lang][key]) {
              element.textContent = translations[lang][key];
            }
          });

          // Update all placeholder texts
          document
            .querySelectorAll("[data-i18n-placeholder]")
            .forEach((element) => {
              const key = element.getAttribute("data-i18n-placeholder");
              if (translations[lang][key]) {
                element.placeholder = translations[lang][key];
              }
            });

          // Update country code if switching between languages
          if (lang === "ar") {
            document.getElementById("mobile-prefix").textContent = "+966";
            document.getElementById("whatsapp-prefix").textContent = "+966";
          } else {
            document.getElementById("mobile-prefix").textContent = "+1";
            document.getElementById("whatsapp-prefix").textContent = "+1";
          }
        }

        document
          .getElementById("english-btn")
          .addEventListener("click", () => switchLanguage("en"));
        document
          .getElementById("arabic-btn")
          .addEventListener("click", () => switchLanguage("ar"));

        // Initialize with user's preferred language
        switchLanguage(userData.language || "en");
      });
    </script>
  </body>
</html>
