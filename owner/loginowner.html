<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Log in or sign up</title>
    <!-- أيقونات Font Awesome لأزرار وسائل التواصل -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />

    <style>
      /* إعادة ضبط أساسية */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, sans-serif;
      }
      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background: #fff;
        color: #333;
      }
      header {
        background: #fff;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        padding: 10px 20px;
      }
      .header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
      }
      .logo {
        display: flex;
        align-items: center;
      }
      .logo img {
        width: 50px;
        height: 50px;
      }
      .logo span {
        font-size: 28px;
        font-weight: bold;
        color: #82c9ff;
        margin-left: 10px;
      }
      nav {
        display: flex;
        gap: 15px;
      }
      nav a {
        text-decoration: none;
        color: #333;
        font-size: 16px;
      }
      .container {
        width: 90%;
        max-width: 400px;
        margin: auto;
      }
      h1 {
        font-size: 50px;
        font-weight: bold;
      }
      /* عنوان الصفحة */
      .title {
        text-align: center;
        font-size: 1.7rem;
        font-weight: bold;
        margin-bottom: 1.5rem;
        color: #1a193f;
      }

      /* صندوق المدخلات */
      .input-group {
        margin-bottom: 1rem;
        font-size: 0.6rem;
      }

      .input-group label {
        display: block;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
        color: #444;
      }

      select,
      input[type="text"],
      input[type="tel"] {
        width: 100%;
        padding: 0.75rem;
        font-size: 0.99rem;
        border: 1px solid #ccc;
        border-radius: 6px;
        outline: none;
        appearance: none; /* لإخفاء سهم select في بعض المتصفحات */
      }

      /* الملاحظة أسفل حقل رقم الهاتف */
      .note {
        font-size: 0.8rem;
        color: #666;
        margin-bottom: 1.5rem;
        line-height: 1.4;
      }

      .btn-primary {
        width: 100%;
        background: rgb(127, 163, 241);
        color: #1a193f;
        border: none;
        font-weight: bold;
        border-radius: 6px;
        padding: 0.9rem;
        font-size: 1.5rem;
        cursor: pointer;
        margin-bottom: 1.2rem;
      }

      .btn-primary:hover {
        background: rgb(141, 183, 240);
      }
      .separator {
        display: flex;
        align-items: center;
        text-align: center;
        margin: 1.5rem 0;
      }

      .separator .line {
        flex: 1;
        height: 1px;
        background-color: #ccc;
      }

      .separator .separator-text {
        padding: 0 1rem;
        color: #666;
        font-size: 0.9rem;
      }

      /* الأزرار الأخرى (التسجيل بالبريد، Apple، Google، Facebook) */
      .btn-outline {
        width: 100%;
        border: 1px solid #ccc;
        background: #fff;
        color: #333;
        border-radius: 6px;
        padding: 0.9rem;
        font-size: 1rem;
        cursor: pointer;
        margin-bottom: 0.8rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .btn-outline:hover {
        background: #f8f8f8;
      }

      .btn-icon {
        font-size: 1.1rem;
      }

      /* تمييز زر Apple باللون الأسود */
      .btn-apple {
        border: 1px solid #333;
        background: #000;
        color: #fff;
      }

      .btn-apple:hover {
        background: #333;
      }

      /* تمييز زر Facebook بالأزرق */
      .btn-facebook {
        border: 1px solid #4267b2;
        background: #4267b2;
        color: #fff;
      }

      .btn-facebook:hover {
        background: #365899;
      }

      .btnbook {
        background-color: #82c9ff;
        color: #fff;
        font-size: 20px;
        cursor: pointer;
        width: 20%;
        border: none;
        padding: 0.5rem;
        margin: 0.3rem;
        border-radius: 4px;
      }

      /* Footer Styles */
      .footer {
        background: #1a193f;
      }

      .footer__contanier {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr; /* 3 أعمدة */
        gap: 4rem 2rem;
      }

      .footer__logo {
        margin-bottom: 2rem;
        color: #82c9ff;
      }

      .footer__logo span {
        font-size: 2rem;
        font-family: "playfair Display", serif;
      }

      .footer__logo div {
        font-size: 2rem;
        color: #82c9ff;
        background-color: #fcfcfc;
      }

      .footer__socials {
        list-style: none;
        margin-top: 2rem;
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .footer__socials a {
        padding: 6px 10px;
        font-size: 1.25rem;
        color: #aaa9a9;
        background-color: azure;
        border-radius: 100%;
        cursor: pointer;
        transition: 0.3s;
      }

      .footer__socials a:hover {
        color: #f8f8f8;
        background-color: #9cb5ff;
      }

      .footer__col h4 {
        margin-bottom: 2.5rem;
        font-size: 1.25rem;
        font-weight: 800;
        font-family: "playfair Display", serif;
        color: #f8f8f8;
      }

      .footer__links {
        list-style: none;
      }

      .footer__links li {
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
      }

      .footer__links a {
        color: #fff;
        transition: 0.3s;
        gap: 1rem;
      }

      .footer__links a:hover {
        color: #82c9ff;
      }

      .footer__col:last-child .footer__links li {
        margin-bottom: 2rem;
      }

      .footer__links span {
        font-size: 2rem;
        color: #82c9ff;
      }

      .footer__links h5 {
        margin-bottom: 0.5rem;
        font-size: 1rem;
        font-weight: 800;
        font-family: sans-serif;
        color: #fff;
      }

      .footer__links p {
        color: #fff;
      }

      .footer__bar {
        padding: 1rem;
        font-size: 0.8rem;
        color: white;
        text-align: center;
      }
      .section__description {
        color: #fcfcfc;
      }

      /* New styles for forgot password link */
      .forgot-password {
        text-align: center;
        margin: 1rem 0;
      }

      .forgot-password a {
        color: #82c9ff;
        text-decoration: none;
        font-size: 0.9rem;
      }

      .forgot-password a:hover {
        text-decoration: underline;
      }
      select,
      input[type="text"],
      input[type="tel"],
      input[type="password"] {
        width: 100%;
        padding: 0.75rem;
        font-size: 0.99rem;
        border: 1px solid #ccc;
        border-radius: 6px;
        outline: none;
        appearance: none;
      }
      .password-wrapper {
        position: relative;
        display: inline-block;
      }
      #password {
        padding-right: 60px; /* مساحة للزر */
      }
      #togglePasswordBtn {
        position: absolute;
        right: 5px;
        top: 50%;
        transform: translateY(-50%);
        background: transparent;
        border: none;
        cursor: pointer;
        color: #007bff;
        font-weight: bold;
      }
      #togglePasswordBtn:focus {
        outline: none;
      }

      /* تحسين للخطوط الصغيرة في الشاشات الضيقة */
      @media (max-width: 320px) {
        .btn-primary,
        .btn-outline {
          font-size: 0.9rem;
          padding: 0.7rem;
        }
        .title {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <form id="loginForm">
    <!-- اختيار الدولة ورقم الهاتف -->
    <div class="container">
      <h1 class="title">Log in or sign up</h1>
      <!-- اختيار الدولة ورقم الهاتف -->
      <div class="input-group">
        <label for="country">Country/Region</label>
        <select id="country" name="country" required>
          <option value="" disabled selected>Select your country</option>
          <option value="eg">Egypt (+20)</option>
          <option value="AF">Afghanistan (+93)</option>
          <option value="AX">Åland Islands (+358)</option>
          <option value="AL">Albania (+355)</option>
          <option value="DZ">Algeria (+213)</option>
          <option value="AS">American Samoa (+1-684)</option>
          <option value="AD">Andorra (+376)</option>
          <option value="AO">Angola (+244)</option>
          <option value="AI">Anguilla (+1-264)</option>
          <option value="AG">Antigua and Barbuda (+1-268)</option>
          <option value="AR">Argentina (+54)</option>
          <option value="AM">Armenia (+374)</option>
          <option value="AW">Aruba (+297)</option>
          <option value="AU">Australia (+61)</option>
          <option value="AT">Austria (+43)</option>
          <option value="AZ">Azerbaijan (+994)</option>
          <option value="BS">Bahamas (+1-242)</option>
          <option value="BH">Bahrain (+973)</option>
          <option value="BD">Bangladesh (+880)</option>
          <option value="BB">Barbados (+1-246)</option>
          <option value="BY">Belarus (+375)</option>
          <option value="BE">Belgium (+32)</option>
          <option value="BZ">Belize (+501)</option>
          <option value="BJ">Benin (+229)</option>
          <option value="BM">Bermuda (+1-441)</option>
          <option value="BT">Bhutan (+975)</option>
          <option value="BO">Bolivia (+591)</option>
          <option value="BA">Bosnia and Herzegovina (+387)</option>
          <option value="BW">Botswana (+267)</option>
          <option value="BR">Brazil (+55)</option>
          <option value="IO">British Indian Ocean Territory (+246)</option>
          <option value="BN">Brunei Darussalam (+673)</option>
          <option value="BG">Bulgaria (+359)</option>
          <option value="BF">Burkina Faso (+226)</option>
          <option value="BI">Burundi (+257)</option>
          <option value="KH">Cambodia (+855)</option>
          <option value="CM">Cameroon (+237)</option>
          <option value="CA">Canada (+1)</option>
          <option value="CV">Cape Verde (+238)</option>
          <option value="KY">Cayman Islands (+1-345)</option>
          <option value="CF">Central African Republic (+236)</option>
          <option value="TD">Chad (+235)</option>
          <option value="CL">Chile (+56)</option>
          <option value="CN">China (+86)</option>
          <option value="CX">Christmas Island (+61)</option>
          <option value="CC">Cocos (Keeling) Islands (+61)</option>
          <option value="CO">Colombia (+57)</option>
          <option value="KM">Comoros (+269)</option>
          <option value="CG">Congo (+242)</option>
          <option value="CD">
            Congo, the Democratic Republic of the (+243)
          </option>
          <option value="CK">Cook Islands (+682)</option>
          <option value="CR">Costa Rica (+506)</option>
          <option value="CI">Côte d'Ivoire (+225)</option>
          <option value="HR">Croatia (+385)</option>
          <option value="CU">Cuba (+53)</option>
          <option value="CY">Cyprus (+357)</option>
          <option value="CZ">Czech Republic (+420)</option>
          <option value="DK">Denmark (+45)</option>
          <option value="DJ">Djibouti (+253)</option>
          <option value="DM">Dominica (+1-767)</option>
          <option value="DO">
            Dominican Republic (+1-809, +1-829, +1-849)
          </option>
          <option value="EC">Ecuador (+593)</option>
          <option value="EG">Egypt (+20)</option>
          <option value="SV">El Salvador (+503)</option>
          <option value="GQ">Equatorial Guinea (+240)</option>
          <option value="ER">Eritrea (+291)</option>
          <option value="EE">Estonia (+372)</option>
          <option value="ET">Ethiopia (+251)</option>
          <option value="FK">Falkland Islands (Malvinas) (+500)</option>
          <option value="FO">Faroe Islands (+298)</option>
          <option value="FJ">Fiji (+679)</option>
          <option value="FI">Finland (+358)</option>
          <option value="FR">France (+33)</option>
          <option value="GF">French Guiana (+594)</option>
          <option value="PF">French Polynesia (+689)</option>

          <!-- باقي الدول -->
        </select>
      </div>

      <!-- حقل إدخال رقم الهاتف أو البريد الإلكتروني -->
      <div class="input-group">
        <label for="phone">Phone number or email</label>
        <input
          type="text"
          id="emailOrPhone"
          placeholder="Enter your phone number or email"
        />
      </div>

      <p class="note">
        We'll call or text to confirm your number. Standard message and data
        rates apply.
      </p>
      <div class="input-group">
        <div class="password-wrapper">
          <input type="password" id="password" />
        </div>
        </div>
        

      <button type="submit" class="btn-primary" id="loginBtn">Continue</button>
      </form>

      <!-- Forgot password link -->
      <div class="forgot-password">
        <a href="forgetpass.html">Forgot password?</a>
      </div>

      <div class="separator">
        <div class="line"></div>
        <span class="separator-text">or</span>
        <div class="line"></div>
      </div>

      <!-- أزرار طرق التسجيل الأخرى -->
      <button class="btn-outline btn-apple">
        <i class="fa-brands fa-apple btn-icon"></i>
        Continue with Apple
      </button>

      <button
        class="btn-outline"
        onclick="window.location.href='logingoogle.html'"
      >
        <i class="fa-brands fa-google btn-icon"></i>
        Continue with Google
      </button>

      <button
        class="btn-outline btn-facebook"
        onclick="window.location.href='face.html'"
      >
        <i class="fa-brands fa-facebook-f btn-icon"></i>
        Continue with Facebook
      </button>
    </div>

    <footer class="footer" id="contact">
      <div class="section__contanier footer__contanier">
        <div class="footer__col">
          <div class="logo footer__logo">
            <div>E</div>
            <span>EASY <br />RENT</span>
          </div>
          <p class="section__description">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Illum eius
            itaque quod expedita labore est quibusdam incidunt! Harum expedita
            mollitia ea, magnam ratione aut consectetur. Soluta ipsum sapiente
            provident dicta.
          </p>
          <ul class="footer__socials">
            <li>
              <a href="#" target="_blank"><i class="ri-facebook-line"></i></a>
            </li>
            <li>
              <a href="#" target="_blank"><i class="ri-instagram-line"></i></a>
            </li>
            <li>
              <a href="#" target="_blank"><i class="ri-linkedin-line"></i></a>
            </li>
          </ul>
        </div>
        <div class="footer__col">
          <h4>Services</h4>
          <div class="footer__links">
            <li><a href="#">Online Booking</a></li>
            <li><a href="privacypolicy.html">Privacy Policy</a></li>
            <li><a href="#"> Spical offer</a></li>
            <li><a href="#">Room Customization</a></li>
            <li><a href="#">Customer Support</a></li>
          </div>
        </div>
        <div class="footer__col">
          <h4>Contact Us</h4>
          <div class="footer__links">
            <li>
              <span><i class="ri-phone-fill"></i></span>
              <div>
                <h5>Phone Number</h5>
                <p>+20 1224170048</p>
              </div>
            </li>
            <li>
              <span><i class="ri-record-mail-line"></i></span>
              <div>
                <h5>Email</h5>
                <p>info@easyrent15.com</p>
              </div>
            </li>
            <li>
              <span><i class="ri-map-pin-2-fill"></i></span>
              <div>
                <h5>Location</h5>
                <p>Minya st. Taha-Hessien</p>
              </div>
            </li>
          </div>
        </div>
      </div>
      <div class="footer__bar">
        EasyRent copyright 2025 web Design .All rights reserved.
      </div>
    </footer>

    
    <script type="module">

      const passwordInput = document.getElementById("password");
      const togglePasswordBtn = document.createElement("button");
      togglePasswordBtn.type = "button";
      togglePasswordBtn.id = "togglePasswordBtn";
      togglePasswordBtn.textContent = "Show";
      
      passwordInput.parentNode.appendChild(togglePasswordBtn);
      
      togglePasswordBtn.addEventListener("click", () => {
        const isPassword = passwordInput.type === "password";
        passwordInput.type = isPassword ? "text" : "password";
        togglePasswordBtn.textContent = isPassword ? "Hide" : "Show";
      });
      
      document.getElementById("loginForm").addEventListener("submit", async function (e) {
        e.preventDefault();
      
        const country = document.getElementById("country").value;
        const emailOrPhone = document.getElementById("emailOrPhone").value.trim();
        const password = document.getElementById("password").value;
      
        if (!emailOrPhone || !password || !country) {
          alert("Please fill all fields.");
          return;
        }
      
        try {
          const loginRes = await fetch("https://easyrentapi0.runasp.net/api/Owner/login", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              emailOrPhone,
              password // مباشرة بدون تشفير
            })
          });
      
          if (!loginRes.ok) {
            let errorMsg = await loginRes.text();
            try {
              const errObj = JSON.parse(errorMsg);
              errorMsg = errObj.message || errorMsg;
            } catch {}
            alert(errorMsg || "Login failed. Please try again.");
            return;
          }
      
          const data = await loginRes.json();
          localStorage.setItem("user", JSON.stringify(data));
      
          // توجيه حسب الدور
          if (data.role === "admin") {
            location.href = "admin.html";
          } else if (data.role === "owner") {
            location.href = "../dashbord.html";

          } else {
            location.href = "../dashbord.html"; // أو أي صفحة خاصة بالطالب
          }
          
      
        } catch (err) {
          console.error("Unexpected error:", err);
          alert(err.message || "Something went wrong. Please try again later.");
        }
      });
      
      
            
    </script>           
</body> 
</html>
